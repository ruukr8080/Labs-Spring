# [spring security] Chapter-1. 개념과 원리


### 인증,인가가 어떻게 진행되는지 알아보자.

- 인증 : 누군지 확인하는거. 
- 인가 : 무슨 권한 있는지 체크하는거. 

당연히 누군지 먼저 확인을 해야 걔가 뭘 하는 앤지 체크가 가능할테지?
(순서 중요하다는 뜻 인증 -> 인가.)
---

### `AuthenticationManager`
_인증매니저_

인증을 담당하는 애임 

내가 클라이언트라 치면, 내가 로그인할 때 id,비번 입력하잖음. 
그럼 그 입력한 내용을 보고 내가 맞는지 틀리는지 검증을 함.

그래서 검증에서 통과 되면 
### `AccessDecisionManager`
_인가매니저_

한테 "얘 인증 통과했으니 인가 검증하셈" 하고 넘김.

내가 특정 URL이나 리소스에 접근 할 때마다 얘가 가서 "너 이거 볼 권한 있음?" 하면서

접근에 대한 '접근권한체크' 를 하고 허용/거부를 수행함.


`AccessDecisionManager` :

- 상황 1: 권한 있는 유저가 아래의 http 요청을 보내왔다.

" '**권한있는** 유저'님! `AuthenticationManager`한테 인증은 받으셨다 들었습니다.
그리고 지금 `https://localhost/8080/user/detail` 로 접근(요청) 하셨는데, 

어디보자.. 접근권한이... 

있으시네요 편히 보세요."



- 상황 2: 권한 없는 유저가 아래의 http 요청을 보내왔다.

" '**권한없는** 유저'님! `AuthenticationManager`한테 인증은 받으셨다 들었습니다.
그리고 지금 `https://localhost/8080/user/detail` 로 접근(요청) 하셨는데, 

어디보자 접근권한이... 

없으시네. 예외처리 하겠습니다."

---

### 결론
    1) 인증 2) 인가 3) 권한 설정
스프링 시큐리티를 쓰기 전에 이 세가지 개념부터 전두엽에 새겨두자.

---
